[gd_scene load_steps=10 format=3 uid="uid://bd1dm4x2d2qi2"]

[ext_resource type="Script" path="res://Main.gd" id="1"]
[ext_resource type="PackedScene" path="res://Ground.tscn" id="2"]
[ext_resource type="PackedScene" path="res://Table.tscn" id="3"]
[ext_resource type="PackedScene" path="res://addons/godot-openxr/scenes/first_person_controller_vr.tscn" id="4"]
[ext_resource type="PackedScene" path="res://addons/godot-xr-tools/functions/Function_Teleport.tscn" id="10"]
[ext_resource type="PackedScene" uid="uid://hkoqglc13fsw" path="res://addons/godot-xr-tools/functions/Function_Direct_movement.tscn" id="11"]

[sub_resource type="CapsuleMesh" id="1"]
radius = 0.1
height = 0.3
radial_segments = 16
rings = 2

[sub_resource type="CapsuleMesh" id="2"]
radius = 0.03
height = 0.2
radial_segments = 32
rings = 2

[sub_resource type="SphereMesh" id="SphereMesh_8vp02"]
radius = 0.05
height = 0.1
radial_segments = 16
rings = 8

[node name="Main" type="Node3D"]
script = ExtResource( "1" )

[node name="DirectionalLight" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.942296, -0.107937, -0.316905, 0.321394, 0.55667, 0.766045, 0.093727, -0.823692, 0.559238, 0, 100, 0)
shadow_enabled = true
shadow_bias = 0.01
directional_shadow_max_distance = 20.0

[node name="FPSController" parent="." instance=ExtResource( "4" )]

[node name="ShadowHead" type="MeshInstance3D" parent="FPSController/XRCamera3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0187781, 0.103895)
layers = 524288
mesh = SubResource( "1" )

[node name="ShadowHMD" type="MeshInstance3D" parent="FPSController/XRCamera3D" index="1"]
transform = Transform3D(-4.37114e-08, 1, -4.37114e-08, 0, -4.37114e-08, -1, -1, -4.37114e-08, 1.91069e-15, 0, 0, 0.00889538)
layers = 524288
mesh = SubResource( "2" )

[node name="LeftHandController" parent="FPSController" index="1"]
visible = true

[node name="Function_Teleport" parent="FPSController/LeftHandController" index="0" instance=ExtResource( "10" )]
collision_mask = 1022
camera = NodePath("../../XRCamera3D")

[node name="Test" type="MeshInstance3D" parent="FPSController/LeftHandController" index="1"]
mesh = SubResource( "SphereMesh_8vp02" )

[node name="RightHandController" parent="FPSController" index="2"]
visible = true

[node name="Function_Direct_movement" parent="FPSController/RightHandController" index="0" instance=ExtResource( "11" )]
camera = NodePath("../../XRCamera3D")
smooth_rotation = true

[node name="Test" type="MeshInstance3D" parent="FPSController/RightHandController" index="1"]
mesh = SubResource( "SphereMesh_8vp02" )
skeleton = NodePath("../../LeftHandController")

[node name="Table" parent="." instance=ExtResource( "3" )]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -6)

[node name="Ground" parent="." instance=ExtResource( "2" )]

[editable path="FPSController"]
