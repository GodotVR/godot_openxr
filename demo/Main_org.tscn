[gd_scene load_steps=19 format=3 uid="uid://bd1dm4x2d2qi2"]

[ext_resource type="Script" path="res://Main.gd" id="1"]
[ext_resource type="PackedScene" path="res://Ground.tscn" id="2"]
[ext_resource type="PackedScene" path="res://Table.tscn" id="3"]
[ext_resource type="PackedScene" path="res://addons/godot-openxr/scenes/first_person_controller_vr.tscn" id="4"]
[ext_resource type="Texture2D" uid="uid://dh1jq30jlmaiy" path="res://addons/godot-openxr/assets/valve_hand_models/textures/vr_glove_color.jpg" id="5"]
[ext_resource type="PackedScene" path="res://addons/godot-openxr/scenes/XRPose.tscn" id="7"]
[ext_resource type="PackedScene" uid="uid://dhcsolk3uwmy6" path="res://addons/godot-xr-tools/objects/Viewport_2D_in_3D.tscn" id="8"]
[ext_resource type="PackedScene" uid="uid://vg5mbunb1gw7" path="res://ControllerInfo.tscn" id="9"]
[ext_resource type="PackedScene" path="res://addons/godot-xr-tools/functions/Function_Teleport.tscn" id="10"]
[ext_resource type="PackedScene" uid="uid://hkoqglc13fsw" path="res://addons/godot-xr-tools/functions/Function_Direct_movement.tscn" id="11"]
[ext_resource type="PackedScene" uid="uid://chdaham4exams" path="res://Screen.tscn" id="12"]
[ext_resource type="PackedScene" path="res://addons/godot-xr-tools/functions/Function_pointer.tscn" id="13"]
[ext_resource type="PackedScene" path="res://addons/godot-openxr/scenes/left_hand_mesh.tscn" id="14"]
[ext_resource type="PackedScene" path="res://addons/godot-openxr/scenes/right_hand_mesh.tscn" id="15"]

[sub_resource type="CapsuleMesh" id="1"]
radius = 0.1
height = 0.3
radial_segments = 16
rings = 2

[sub_resource type="CapsuleMesh" id="2"]
radius = 0.03
height = 0.2
radial_segments = 32
rings = 2

[sub_resource type="CylinderMesh" id="3"]
top_radius = 0.01
bottom_radius = 0.01
height = 0.05

[sub_resource type="SphereMesh" id="4"]
radius = 0.01
height = 0.02

[node name="Main" type="Node3D"]
script = ExtResource( "1" )

[node name="DirectionalLight" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.942296, -0.107937, -0.316905, 0.321394, 0.55667, 0.766045, 0.093727, -0.823692, 0.559238, 0, 100, 0)
shadow_enabled = true
shadow_bias = 0.01
directional_shadow_max_distance = 20.0

[node name="FPSController" parent="." instance=ExtResource( "4" )]

[node name="ShadowHead" type="MeshInstance3D" parent="FPSController/XRCamera3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0187781, 0.103895)
layers = 524288
mesh = SubResource( "1" )

[node name="ShadowHMD" type="MeshInstance3D" parent="FPSController/XRCamera3D" index="1"]
transform = Transform3D(-4.37114e-08, 1, -4.37114e-08, 0, -4.37114e-08, -1, -1, -4.37114e-08, 1.91069e-15, 0, 0, 0.00889538)
layers = 524288
mesh = SubResource( "2" )

[node name="LeftHandController" parent="FPSController" index="1"]
visible = true

[node name="Info" parent="FPSController/LeftHandController" index="0" instance=ExtResource( "8" )]
transform = Transform3D(1, 0, 0, 0, 0.939693, 0.34202, 0, -0.34202, 0.939693, 0.0483518, 0.0719222, 0)
visible = false
screen_size = Vector2(0.16, 0.12)
viewport_size = Vector2(600, 400)
scene = ExtResource( "9" )
collision_layer = 0

[node name="Function_Teleport" parent="FPSController/LeftHandController" index="1" instance=ExtResource( "10" )]
collision_mask = 1022
camera = NodePath("../../XRCamera3D")

[node name="Function_pointer" parent="FPSController/LeftHandController" index="2" instance=ExtResource( "13" )]
show_target = true
collide_with_areas = true

[node name="RightHandController" parent="FPSController" index="2"]
visible = true

[node name="Info" parent="FPSController/RightHandController" index="0" instance=ExtResource( "8" )]
transform = Transform3D(1, 0, 0, 0, 0.939693, 0.34202, 0, -0.34202, 0.939693, -0.0871993, 0.072, 0)
visible = false
screen_size = Vector2(0.16, 0.12)
viewport_size = Vector2(600, 400)
scene = ExtResource( "9" )
collision_layer = 0

[node name="Function_Direct_movement" parent="FPSController/RightHandController" index="1" instance=ExtResource( "11" )]
camera = NodePath("../../XRCamera3D")
smooth_rotation = true

[node name="Function_pointer" parent="FPSController/RightHandController" index="2" instance=ExtResource( "13" )]
show_target = true
collide_with_areas = true

[node name="Left_grip_pose" parent="FPSController" instance=ExtResource( "7" )]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 1, -0.5)

[node name="Grip" type="MeshInstance3D" parent="FPSController/Left_grip_pose"]
transform = Transform3D(1, 0, 0, 0, -1.62921e-07, -1, 0, 1, -1.62921e-07, 0, 0, 0)
mesh = SubResource( "3" )

[node name="Right_aim_pose" parent="FPSController" instance=ExtResource( "7" )]

[node name="Grip" type="MeshInstance3D" parent="FPSController/Right_aim_pose"]
transform = Transform3D(1, 0, 0, 0, -1.62921e-07, -1, 0, 1, -1.62921e-07, 0, 0, 0)
mesh = SubResource( "3" )

[node name="LeftHand" parent="FPSController" instance=ExtResource( "14" )]
motion_range = 1

[node name="ShowIndexTip" type="MeshInstance3D" parent="FPSController/LeftHand/HandModel/Armature001/Skeleton/IndexTip" index="0"]
visible = false
mesh = SubResource( "4" )

[node name="Skeleton3D" parent="FPSController/LeftHand/HandModel/Armature001" index="1"]
bones/0/position = Vector3(0, 0, 0)
bones/0/rotation = Quaternion(0, 0, 0, 1)
bones/0/scale = Vector3(1, 1, 1)
bones/1/position = Vector3(0, 0, 0)
bones/1/rotation = Quaternion(0, 0, 0, 1)
bones/1/scale = Vector3(1, 1, 1)
bones/2/position = Vector3(0, 0, 0)
bones/2/rotation = Quaternion(0, 0, 0, 1)
bones/2/scale = Vector3(1, 1, 1)
bones/3/position = Vector3(0, 0, 0)
bones/3/rotation = Quaternion(0, 0, 0, 1)
bones/3/scale = Vector3(1, 1, 1)
bones/4/position = Vector3(0, 0, 0)
bones/4/rotation = Quaternion(0, 0, 0, 1)
bones/4/scale = Vector3(1, 1, 1)
bones/5/position = Vector3(0, 0, 0)
bones/5/rotation = Quaternion(0, 0, 0, 1)
bones/5/scale = Vector3(1, 1, 1)
bones/6/position = Vector3(0, 0, 0)
bones/6/rotation = Quaternion(0, 0, 0, 1)
bones/6/scale = Vector3(1, 1, 1)
bones/7/position = Vector3(0, 0, 0)
bones/7/rotation = Quaternion(0, 0, 0, 1)
bones/7/scale = Vector3(1, 1, 1)
bones/8/position = Vector3(0, 0, 0)
bones/8/rotation = Quaternion(0, 0, 0, 1)
bones/8/scale = Vector3(1, 1, 1)
bones/9/position = Vector3(0, 0, 0)
bones/9/rotation = Quaternion(0, 0, 0, 1)
bones/9/scale = Vector3(1, 1, 1)
bones/10/position = Vector3(0, 0, 0)
bones/10/rotation = Quaternion(0, 0, 0, 1)
bones/10/scale = Vector3(1, 1, 1)
bones/11/position = Vector3(0, 0, 0)
bones/11/rotation = Quaternion(0, 0, 0, 1)
bones/11/scale = Vector3(1, 1, 1)
bones/12/position = Vector3(0, 0, 0)
bones/12/rotation = Quaternion(0, 0, 0, 1)
bones/12/scale = Vector3(1, 1, 1)
bones/13/position = Vector3(0, 0, 0)
bones/13/rotation = Quaternion(0, 0, 0, 1)
bones/13/scale = Vector3(1, 1, 1)
bones/14/position = Vector3(0, 0, 0)
bones/14/rotation = Quaternion(0, 0, 0, 1)
bones/14/scale = Vector3(1, 1, 1)
bones/15/position = Vector3(0, 0, 0)
bones/15/rotation = Quaternion(0, 0, 0, 1)
bones/15/scale = Vector3(1, 1, 1)
bones/16/position = Vector3(0, 0, 0)
bones/16/rotation = Quaternion(0, 0, 0, 1)
bones/16/scale = Vector3(1, 1, 1)
bones/17/position = Vector3(0, 0, 0)
bones/17/rotation = Quaternion(0, 0, 0, 1)
bones/17/scale = Vector3(1, 1, 1)
bones/18/position = Vector3(0, 0, 0)
bones/18/rotation = Quaternion(0, 0, 0, 1)
bones/18/scale = Vector3(1, 1, 1)
bones/19/position = Vector3(0, 0, 0)
bones/19/rotation = Quaternion(0, 0, 0, 1)
bones/19/scale = Vector3(1, 1, 1)
bones/20/position = Vector3(0, 0, 0)
bones/20/rotation = Quaternion(0, 0, 0, 1)
bones/20/scale = Vector3(1, 1, 1)
bones/21/position = Vector3(0, 0, 0)
bones/21/rotation = Quaternion(0, 0, 0, 1)
bones/21/scale = Vector3(1, 1, 1)
bones/22/position = Vector3(0, 0, 0)
bones/22/rotation = Quaternion(0, 0, 0, 1)
bones/22/scale = Vector3(1, 1, 1)
bones/23/position = Vector3(0, 0, 0)
bones/23/rotation = Quaternion(0, 0, 0, 1)
bones/23/scale = Vector3(1, 1, 1)
bones/24/position = Vector3(0, 0, 0)
bones/24/rotation = Quaternion(0, 0, 0, 1)
bones/24/scale = Vector3(1, 1, 1)
bones/25/position = Vector3(0, 0, 0)
bones/25/rotation = Quaternion(0, 0, 0, 1)
bones/25/scale = Vector3(1, 1, 1)

[node name="RightHand" parent="FPSController" instance=ExtResource( "15" )]
motion_range = 1
albedo_texture = ExtResource( "5" )

[node name="ShowIndexTip" type="MeshInstance3D" parent="FPSController/RightHand/HandModel/Armature/Skeleton/IndexTip" index="0"]
visible = false
mesh = SubResource( "4" )

[node name="Skeleton3D" parent="FPSController/RightHand/HandModel/Armature" index="1"]
bones/0/position = Vector3(0, 0, 0)
bones/0/rotation = Quaternion(0, 0, 0, 1)
bones/0/scale = Vector3(1, 1, 1)
bones/1/position = Vector3(0, 0, 0)
bones/1/rotation = Quaternion(0, 0, 0, 1)
bones/1/scale = Vector3(1, 1, 1)
bones/2/position = Vector3(0, 0, 0)
bones/2/rotation = Quaternion(0, 0, 0, 1)
bones/2/scale = Vector3(1, 1, 1)
bones/3/position = Vector3(0, 0, 0)
bones/3/rotation = Quaternion(0, 0, 0, 1)
bones/3/scale = Vector3(1, 1, 1)
bones/4/position = Vector3(0, 0, 0)
bones/4/rotation = Quaternion(0, 0, 0, 1)
bones/4/scale = Vector3(1, 1, 1)
bones/5/position = Vector3(0, 0, 0)
bones/5/rotation = Quaternion(0, 0, 0, 1)
bones/5/scale = Vector3(1, 1, 1)
bones/6/position = Vector3(0, 0, 0)
bones/6/rotation = Quaternion(0, 0, 0, 1)
bones/6/scale = Vector3(1, 1, 1)
bones/7/position = Vector3(0, 0, 0)
bones/7/rotation = Quaternion(0, 0, 0, 1)
bones/7/scale = Vector3(1, 1, 1)
bones/8/position = Vector3(0, 0, 0)
bones/8/rotation = Quaternion(0, 0, 0, 1)
bones/8/scale = Vector3(1, 1, 1)
bones/9/position = Vector3(0, 0, 0)
bones/9/rotation = Quaternion(0, 0, 0, 1)
bones/9/scale = Vector3(1, 1, 1)
bones/10/position = Vector3(0, 0, 0)
bones/10/rotation = Quaternion(0, 0, 0, 1)
bones/10/scale = Vector3(1, 1, 1)
bones/11/position = Vector3(0, 0, 0)
bones/11/rotation = Quaternion(0, 0, 0, 1)
bones/11/scale = Vector3(1, 1, 1)
bones/12/position = Vector3(0, 0, 0)
bones/12/rotation = Quaternion(0, 0, 0, 1)
bones/12/scale = Vector3(1, 1, 1)
bones/13/position = Vector3(0, 0, 0)
bones/13/rotation = Quaternion(0, 0, 0, 1)
bones/13/scale = Vector3(1, 1, 1)
bones/14/position = Vector3(0, 0, 0)
bones/14/rotation = Quaternion(0, 0, 0, 1)
bones/14/scale = Vector3(1, 1, 1)
bones/15/position = Vector3(0, 0, 0)
bones/15/rotation = Quaternion(0, 0, 0, 1)
bones/15/scale = Vector3(1, 1, 1)
bones/16/position = Vector3(0, 0, 0)
bones/16/rotation = Quaternion(0, 0, 0, 1)
bones/16/scale = Vector3(1, 1, 1)
bones/17/position = Vector3(0, 0, 0)
bones/17/rotation = Quaternion(0, 0, 0, 1)
bones/17/scale = Vector3(1, 1, 1)
bones/18/position = Vector3(0, 0, 0)
bones/18/rotation = Quaternion(0, 0, 0, 1)
bones/18/scale = Vector3(1, 1, 1)
bones/19/position = Vector3(0, 0, 0)
bones/19/rotation = Quaternion(0, 0, 0, 1)
bones/19/scale = Vector3(1, 1, 1)
bones/20/position = Vector3(0, 0, 0)
bones/20/rotation = Quaternion(0, 0, 0, 1)
bones/20/scale = Vector3(1, 1, 1)
bones/21/position = Vector3(0, 0, 0)
bones/21/rotation = Quaternion(0, 0, 0, 1)
bones/21/scale = Vector3(1, 1, 1)
bones/22/position = Vector3(0, 0, 0)
bones/22/rotation = Quaternion(0, 0, 0, 1)
bones/22/scale = Vector3(1, 1, 1)
bones/23/position = Vector3(0, 0, 0)
bones/23/rotation = Quaternion(0, 0, 0, 1)
bones/23/scale = Vector3(1, 1, 1)
bones/24/position = Vector3(0, 0, 0)
bones/24/rotation = Quaternion(0, 0, 0, 1)
bones/24/scale = Vector3(1, 1, 1)
bones/25/position = Vector3(0, 0, 0)
bones/25/rotation = Quaternion(0, 0, 0, 1)
bones/25/scale = Vector3(1, 1, 1)

[node name="Table" parent="." instance=ExtResource( "3" )]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -6)

[node name="Ground" parent="." instance=ExtResource( "2" )]

[node name="Screen" parent="." instance=ExtResource( "8" )]
transform = Transform3D(0.843251, 0, -0.53752, 0, 1, 0, 0.53752, 0, 0.843251, 1.92678, 1.5, -2.47671)
visible = false
viewport_size = Vector2(600, 400)
scene = ExtResource( "12" )
collision_layer = 1024

[editable path="FPSController"]
[editable path="FPSController/LeftHand"]
[editable path="FPSController/LeftHand/HandModel"]
[editable path="FPSController/RightHand"]
[editable path="FPSController/RightHand/HandModel"]
